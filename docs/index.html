<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Jessica Wood" />


<title>Species Distribution of Bison Bison in the United States</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/yeti.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-1.1/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-1.1/highlight.js"></script>
<link href="site_libs/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 45px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 50px;
  margin-top: -50px;
}

.section h2 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h3 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h4 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h5 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h6 {
  padding-top: 50px;
  margin-top: -50px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">R Data Science Final Project</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/adammwilson/RDataScience">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Species Distribution of Bison Bison in the United States</h1>
<h3 class="subtitle"><em>How Environmental Factors Affect Range</em></h3>
<h4 class="author"><em>Jessica Wood</em></h4>

</div>


<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>Species ranges are restricted based on the ecological features they are suited to inhabit. This constraint can cause a speciesâ€™ range to exist as highly fragmented populations or be relatively ubiquitous over a large area based on the location of these features. Bison populations are subject to this range restriction, preferring habitats with a large amount of open area, drier climates and mid-range elevations where grasses grow well <span class="citation">[@Lott2017]</span>. Due to these assumptions it is expected that bison would be found in areas that meet all or most of these standards. In order to examine how habitats are able to affect bison populations and their locations, species observations can be used to determine which habitat types are most suitable for bison and where they are located<span class="citation">[@Palma99]</span>. From this analysis a map of locations that are suitable for bison will be created based on a selected model. From this map it is expected that highly suitable points will be found within Yellowstone National Park, as it is the only location within the United States with a wild bison herd<span class="citation">[@IUCN]</span>. Additionally, it is expected that locations with mid- to high-elevations, mid-range climates and low forest cover will be most suitable for the species.</p>
</div>
<div id="materials-and-methods" class="section level1">
<h1>Materials and methods</h1>
<ol style="list-style-type: decimal">
<li>Install and load required packages:</li>
</ol>
<pre class="r"><code>library(spocc)
library(spThin)
library(dismo)
library(rgeos)
library(ENMeval)
library(raster)
library(ggplot2)
library(wallace)</code></pre>
<p>The wallace package also requires integration that is not included with the package. The funcition system.file will find them and source will load it:</p>
<pre class="r"><code>source(system.file(&#39;shiny/funcs&#39;, &#39;functions.R&#39;, package=&#39;wallace&#39;))</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Obtating Occurence Data</li>
</ol>
<p>Occurance data will be downloaded from the gbif database <span class="citation">[@gbif2018]</span>. This data was limited to 3000 records and therefore could not contain all occurence data points.</p>
<pre class="r"><code>results &lt;- spocc::occ(query = &quot;Bison bison&quot;, from = &quot;gbif&quot;, limit = 3000, has_coords = TRUE)
results.data &lt;- results[[&quot;gbif&quot;]]$data[[formatSpName(&quot;Bison bison&quot;)]]
occs &lt;- remDups(results.data)</code></pre>
<p>Rows where coordinates are duplicates must be removed. Latitudes and longitudes must also be checked to be sure they are numeric.</p>
<pre class="r"><code>occs$latitude &lt;- as.numeric(occs$latitude)
occs$longitude &lt;- as.numeric(occs$longitude)</code></pre>
<p>Collected records can all be labeled with unique names.</p>
<pre class="r"><code>occs$origID &lt;- row.names(occs)</code></pre>
<p>The data then needed to be filtered to only include observations located within the Continental United States.This was done by selecting observations that fell witin the shapefile of the United States given within the Wallace program. Although 2889 observations were created, this number was reduce to reduce error and increase speed. After this sorting was done 700 total occurance points were included in the analysis.</p>
<pre class="r"><code>occs=occs[c(1, 3, 4, 5, 6, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 106, 107, 108, 109, 110, 111, 112, 113, 114, 117, 119, 120, 121, 123, 124, 125, 126, 127, 128, 129, 130, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 151, 152, 153, 154, 155, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 285, 286, 287, 288, 289, 290, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 332, 333, 334, 335, 337, 338, 339, 341, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 371, 373, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 386, 387, 388, 390, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 407, 408, 410, 411, 412, 416, 417, 418, 419, 420, 421, 422, 423, 424, 425, 426, 427, 428, 429, 430, 431, 432, 433, 434, 435, 436, 437, 438, 439, 440, 441, 442, 443, 444, 445, 446, 447, 448, 449, 450, 451, 459, 460, 461, 462, 463, 464, 465, 467, 468, 469, 470, 471, 472, 473, 474, 475, 476, 477, 478, 479, 480, 482, 483, 484, 485, 486, 487, 488, 489, 490, 492, 493, 494, 495, 496, 497, 498, 499, 500, 501, 502, 503, 504, 505, 506, 507, 508, 509, 510, 511, 513, 514, 520, 521, 522, 523, 524, 525, 526, 527, 529, 530, 531, 532, 533, 534, 536, 538, 539, 540, 542, 543, 544, 545, 546, 547, 548, 549, 550, 551, 552, 556, 557, 558, 559, 560, 561, 562, 563, 565, 566, 567, 568, 569, 570, 571, 572, 573, 576, 577, 578, 579, 580, 581, 582, 583, 584, 585, 586, 587, 588, 589, 590, 591, 592, 593, 594, 595, 596, 597, 598, 599, 600, 601, 602, 603, 604, 605, 606, 607, 608, 609, 610, 611, 612, 614, 615, 616, 617, 618, 619, 620, 621, 622, 623, 624, 625, 626, 627, 628, 629, 630, 631, 632, 633, 634, 635, 636, 637, 638, 639, 640, 641, 642, 643, 644, 645, 646, 647, 648, 649, 650, 652, 653, 654, 655, 656, 657, 659, 660, 661, 662, 663, 664, 665, 666, 667, 668, 669, 671, 672, 673, 674, 675, 676, 677, 678, 679, 680, 681, 682, 683, 684, 685, 686, 687, 688, 689, 690, 691, 692, 693, 694, 695, 696, 697, 698, 699, 700, 701, 702, 703, 704, 705, 706, 707, 708, 709) ,] </code></pre>
<p>This data can be plotted over the United States file that can be found using the getData function along with ggplot.</p>
<pre class="r"><code>us=getData(&#39;GADM&#39;,country=&#39;USA&#39;,level=1)</code></pre>
<pre class="r"><code>ggplot(occs,aes(x=longitude,y=latitude))+ geom_polygon(aes(x=long,y=lat,group=group),data=us)+ geom_point(col=&quot;red&quot;)+coord_equal()</code></pre>
<pre><code>## Regions defined for each Polygons</code></pre>
<div class="figure">
<img src="index_files/figure-html/unnamed-chunk-8-1.png" alt="Map of Observation Data Within the United Sates" width="576" />
<p class="caption">
Map of Observation Data Within the United Sates
</p>
</div>
<p>Load any required packages in a code chunk (you may need to install some packages):</p>
<pre class="r"><code>library(dplyr)
library(ggplot2)
library(maps)
library(spocc)
knitr::opts_chunk$set(cache=TRUE)  # cache the results for quick compiling</code></pre>
<p>We are going to use the <code>occ()</code> function to download <em>occurrence</em> records for the American robin (<em>Turdus migratorius</em>) from the <a href="gbif.org">Global Biodiversity Information Facility</a>.</p>
<p><img src="https://upload.wikimedia.org/wikipedia/commons/b/b8/Turdus-migratorius-002.jpg" alt="alt text" width="200"> <small><small><small>Licensed under CC BY-SA 3.0 via <a href="https://commons.wikimedia.org/wiki/File:Turdus-migratorius-002.jpg#/media/File:Turdus-migratorius-002.jpg">Wikimedia Commons</a></small></small></small></p>
<pre class="r"><code>## define which species to query
sp=&#39;Turdus migratorius&#39;

## run the query and convert to data.frame()
d = occ(query=sp, from=&#39;ebird&#39;,limit = 100) %&gt;% occ2df()</code></pre>
<p>This can take a few seconds.</p>
<pre class="r"><code># Load coastline
map=map_data(&quot;world&quot;)

ggplot(d,aes(x=longitude,y=latitude))+
  geom_polygon(aes(x=long,y=lat,group=group),data=map)+
  geom_point(col=&quot;red&quot;)+
  coord_equal()</code></pre>
<div class="figure">
<img src="index_files/figure-html/unnamed-chunk-11-1.png" alt="Map illustrating the known occurrence locations" width="576" />
<p class="caption">
Map illustrating the known occurrence locations
</p>
</div>
</div>
<div id="results" class="section level1">
<h1>Results</h1>
<p>Show tables, plots, etc. and describe them.</p>
<p>Figure 1:</p>
<pre class="r"><code>ggplot(occs,aes(x=longitude,y=latitude))+ geom_polygon(aes(x=long,y=lat,group=group),data=us)+ geom_point(col=&quot;red&quot;)+coord_equal()</code></pre>
<pre><code>## Regions defined for each Polygons</code></pre>
<div class="figure">
<img src="index_files/figure-html/unnamed-chunk-12-1.png" alt="Map of Observation Data Within the United Sates" width="576" />
<p class="caption">
Map of Observation Data Within the United Sates
</p>
</div>
<p>This map shows the raw occurence data that was found to be within the United States limits.This map only includes 700 data points from a total of near 3000 possible in order to excellerate processing time.It can be seen that while bison observations are widespread across the United States, there is a preference of the species towards the western portion of the country.</p>
</div>
<div id="conclusions" class="section level1">
<h1>Conclusions</h1>
<p>What have you learned? Are there any broader implications?</p>
</div>
<div id="references" class="section level1">
<h1>References</h1>
</div>

<!-- give the footer some space -->
<br/>
<br/>

<footer id="site-footer">
  <div id="footer1">
  This website is a project for Adam Wilson's <a href="http://www.adamwilson.us/RDataScience"><i> Spatial Data Science (GEO503) </i></a>Course at the University at Buffalo
  </div>
  <div id="footer2">
  <a rel="license" property="http://creativecommons.org/ns#license"
  href="http://creativecommons.org/licenses/by/4.0/" ><img src="img/cc-by.svg" alt="cc-by"/></a> 
  </div>
</footer>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>


</body>
</html>
